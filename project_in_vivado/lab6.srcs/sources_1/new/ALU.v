`timescale 1ns / 1ps

// Add 0010
// Sub 0110
// And 0000
// Or 0001
// Xor 0011
// Nor 0100
// Slt 0111
// Sllv 0101
// Srlv 1000

module ALU #(parameter WIDTH = 32) (
           input [WIDTH - 1: 0] a ,
           input [WIDTH - 1: 0] b ,
           input [ 3: 0] ALUControl,
           output reg [WIDTH - 1: 0] y
       );

always @ ( * )

case (ALUControl)
    4'b0010 : y <= a + b;
    4'b0110 : y <= a - b;
    4'b0000 : y <= a & b;
    4'b0001 : y <= a | b;
    4'b0111 : y <= (a < b) ? 1 : 0;
    4'b0011 : y <= a ^ b;
    4'b0100 : y <= ~ (a | b);
    4'b0101 : 
    begin
      case(a[4:0])
        0: y <= b;
        1: y <= {b[30:0],1'h0};
        2: y <= {b[29:0],2'h0};
        3: y <= {b[28:0],3'h0};
        4: y <= {b[27:0],4'h0};
        5: y <= {b[26:0],5'h0};
        6: y <= {b[25:0],6'h0};
        7: y <= {b[24:0],7'h0};
        8: y <= {b[23:0],8'h0};
        9: y <= {b[22:0],9'h0};
        10: y <= {b[21:0],10'h0};
        11: y <= {b[20:0],11'h0};
        12: y <= {b[19:0],12'h0};
        13: y <= {b[18:0],13'h0};
        14: y <= {b[17:0],14'h0};
        15: y <= {b[16:0],15'h0};
        16: y <= {b[15:0],16'h0};
        17: y <= {b[14:0],17'h0};
        18: y <= {b[13:0],18'h0};
        19: y <= {b[12:0],19'h0};
        20: y <= {b[11:0],20'h0};
        21: y <= {b[10:0],21'h0};
        22: y <= {b[9:0],22'h0};
        23: y <= {b[8:0],23'h0};
        24: y <= {b[7:0],24'h0};
        25: y <= {b[6:0],25'h0};
        26: y <= {b[5:0],26'h0};
        27: y <= {b[4:0],27'h0};
        28: y <= {b[3:0],28'h0};
        29: y <= {b[2:0],29'h0};
        30: y <= {b[1:0],30'h0};
        31: y <= {b[0],31'h0};
      endcase
      // y <= b << a[4:0];
    end
    4'b1000 : 
    begin
      case(a[4:0])
        0: y <= b;
        1: y <= {1'h0,b[31:1]};
        2: y <= {2'h0,b[31:2]};
        3: y <= {3'h0,b[31:3]};
        4: y <= {4'h0,b[31:4]};
        5: y <= {5'h0,b[31:5]};
        6: y <= {6'h0,b[31:6]};
        7: y <= {7'h0,b[31:7]};
        8: y <= {8'h0,b[31:8]};
        9: y <= {9'h0,b[31:9]};
        10: y <= {10'h0,b[31:10]};
        11: y <= {11'h0,b[31:11]};
        12: y <= {12'h0,b[31:12]};
        13: y <= {13'h0,b[31:13]};
        14: y <= {14'h0,b[31:14]};
        15: y <= {15'h0,b[31:15]};
        16: y <= {16'h0,b[31:16]};
        17: y <= {17'h0,b[31:17]};
        18: y <= {18'h0,b[31:18]};
        19: y <= {19'h0,b[31:19]};
        20: y <= {20'h0,b[31:20]};
        21: y <= {21'h0,b[31:21]};
        22: y <= {22'h0,b[31:22]};
        23: y <= {23'h0,b[31:23]};
        24: y <= {24'h0,b[31:24]};
        25: y <= {25'h0,b[31:25]};
        26: y <= {26'h0,b[31:26]};
        27: y <= {27'h0,b[31:27]};
        28: y <= {28'h0,b[31:28]};
        29: y <= {29'h0,b[31:29]};
        30: y <= {30'h0,b[31:30]};
        31: y <= {31'h0,b[31]};
      endcase
    end
      // y <= b >> a[4:0];
    default : y <= 0;
endcase


endmodule
